# 开发者模式 (Developer Mode)

## 目录概述

`developer` 目录存放所有与一个隐藏的“开发者模式”相关的功能和逻辑。

这个模式在普通用户界面上是不可见的，需要通过一个特定的“彩蛋”操作来解锁。它主要用于项目开发者进行调试、测试或强制启用某些特殊状态（例如，在非新年期间测试新年主题）。

---

## 文件详解

### `developer-mode.js` - 开发者模式管理器

#### 职责

这个文件是开发者模式的“总管”，它负责与该模式相关的所有事务，主要包括：

1.  **“彩蛋”触发器**: 监听主页Logo的点击事件，实现通过“在短时间内连续点击多次”来解锁开发者模式的隐藏功能。
2.  **状态管理**: 解锁成功后，将“已解锁”的状态保存到浏览器的 `localStorage` 中，确保用户刷新页面后，开发者模式入口依然可见，无需重复解锁。
3.  **UI 控制**: 负责显示和隐藏开发者模式的入口图标，以及打开和关闭开发者专属的设置面板。
4.  **设置逻辑**: 处理开发者设置面板中的所有独特选项，例如“强制启用新年主题”开关，并确保这些设置能正确地应用或撤销。

---

## > 给初学者的小贴士：如何实现一个“彩蛋” (How to Implement an "Easter Egg")

在 `developer-mode.js` 中，我们用一个简单而巧妙的技巧实现了“在1.5秒内连续点击5次”来触发彩蛋的逻辑。这个模式在很多网站和应用中都很常见。

它的实现主要依赖两个东西：一个**点击计数器**和一个**定时器**。

**实现逻辑如下：**

1.  **设置变量**: 我们需要一个计数器 `clickCount` 和一个定时器句柄 `clickTimer`。
    ```javascript
    let clickCount = 0;
    let clickTimer = null;
    ```

2.  **监听点击事件**:
    -   每次用户点击目标元素（比如Logo）时：
    -   **① 清除旧定时器**: 立刻调用 `clearTimeout(clickTimer)`。这是最关键的一步。如果用户在1.5秒内连续点击，上一次设置的“重置定时器”就会被清除，永远没有机会执行。
    -   **② 增加计数器**: `clickCount++`。
    -   **③ 判断是否成功**: 如果 `clickCount` 达到了目标次数（例如5次），那么就触发彩蛋（执行解锁逻辑），并将 `clickCount` 重置为0，大功告成！
    -   **④ 设置新定时器**: 如果 `clickCount` 还没到5次，就用 `setTimeout` 设置一个新的定时器。这个定时器的作用是：如果用户在接下来的1.5秒内**没有再次点击**（从而没能清除这个定时器），那么1.5秒后，定时器内的函数就会执行，把 `clickCount` 重置为0。

**代码片段示例:**
```javascript
const logo = document.getElementById('logo');

logo.addEventListener('click', () => {
    // ① 清除上一个重置定时器
    clearTimeout(clickTimer);

    // ② 增加计数
    clickCount++;

    // ③ 判断是否达到目标
    if (clickCount >= 5) {
        console.log("彩蛋触发成功！");
        clickCount = 0; // 重置
    } else {
        // ④ 设置一个新的重置定时器
        clickTimer = setTimeout(() => {
            console.log("超时了，计数器已重置。");
            clickCount = 0;
        }, 1500); // 1500毫秒 = 1.5秒
    }
});
```

通过这个“清除-计数-再设定”的循环，我们就高效地实现了“检测连续快速点击”的功能。
